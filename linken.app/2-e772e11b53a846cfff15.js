(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{288:function(t,e,n){"use strict";var s=n(0),i=n(325),a=n(295),r=n(38);var o,c=n(96);n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return l})),function(t){t.componentWillUnmount="componentWillUnmount",t.resize="resize"}(o||(o={}));const h={ContainerFull:Object(c.a)({name:"WithCanvasBaseContainerFull",type:"full"}),ContainerWithPadding:Object(c.a)({name:"WithCanvasBaseContainerWithPadding",type:"withPadding"})},l=({clearOnResize2D:t=!1,isWorker:e=!1,staticHeight:n,staticWidth:c,withPadding:l=!1,withSizeOptions:p}={})=>d=>{var m;const u="number"==typeof n,v="number"==typeof c,C={monitorHeight:!u,monitorWidth:!v,...p},g=C.monitorHeight||C.monitorWidth,b=Object(i.withSize)(C),f={ContainerFull:g?b(h.ContainerFull):h.ContainerFull,ContainerWithPadding:g?b(h.ContainerWithPadding):h.ContainerWithPadding};return(m=class i extends s.Component{constructor(){super(...arguments),this.baseEventEmitter=new a.AnyEvent,this.baseEvents={attach:(...t)=>this.baseEvents.on(...t),on:({cb:t,type:e})=>this.baseEventEmitter.attach(n=>{n.type===e&&t(n)}),once:({cb:t,type:e})=>this.baseEventEmitter.once(n=>{n.type===e&&t(n)}),onceComponentWillUnmount:({cb:t})=>this.baseEvents.once({cb:t,type:o.componentWillUnmount})},this.refCanvas=s.createRef(),this.syncSize=(t=>r.a.canUseDOM?()=>t(window):()=>{})(t=>{if(this.refCanvas.current&&this.refCanvas.current.parentElement){const e=g?t.getComputedStyle(this.refCanvas.current.parentElement):void 0;this.setState(t=>{const s={height:u?n:i.getters.heightFromCssDec(e),width:v?c:i.getters.widthFromCssDec(e)};return Object.keys(t).some(e=>{const n=e;return t[n]!==s[n]})?s:null})}}),this.canvasUtils={getters:{"2D":{context:()=>{if(!e&&this.refCanvas.current)return{elCanvas:this.refCanvas.current,context:this.refCanvas.current.getContext("2D")}}},isCanvasVisible:()=>Boolean(this.refCanvas.current&&this.refCanvas.current.offsetParent)},"2D":{clear:()=>{const t=this.canvasUtils.getters["2D"].context();if(t&&t.context){const{elCanvas:e,context:n}=t;if(n)return n.clearRect(0,0,e.width,e.height),t}}}},this.propsRootComponent={onSize:e=>{this.baseEventEmitter.post({type:o.resize,payload:e}),g&&this.syncSize(),t&&this.canvasUtils["2D"].clear()}},this.state={height:300,width:300}}componentDidMount(){const t=()=>{g&&this.syncSize()};this.refCanvas.current?t():setTimeout(t)}componentWillUnmount(){this.baseEventEmitter.post({type:o.componentWillUnmount}),Object(a.flush)(),this.baseEventEmitter.detach()}render(){const{props:t,state:e}=this,n=t.withPadding?f.ContainerWithPadding:f.ContainerFull,i=e;return s.createElement(n,Object.assign({},this.propsRootComponent),s.createElement(s.Fragment,null,this.refCanvas.current&&s.createElement(d,Object.assign({},this.props,{baseEventEmitter:this.baseEventEmitter,baseEvents:this.baseEvents,elCanvas:this.refCanvas.current,canvasProps:i,canvasUtils:this.canvasUtils})),s.createElement("canvas",Object.assign({},i,{ref:this.refCanvas}))))}}).displayName=d.displayName||d.name||`${m}-WrappedComponent`,m.defaultProps={withPadding:l},m.getters={heightFromCssDec:t=>parseFloat(String(t.height))-(parseFloat(String(t.paddingBottom))+parseFloat(String(t.paddingTop))),widthFromCssDec:t=>parseFloat(String(t.width))-(parseFloat(String(t.paddingLeft))+parseFloat(String(t.paddingRight)))},m}}}]);