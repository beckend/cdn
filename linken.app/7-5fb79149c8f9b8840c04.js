(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{294:function(e,n,s){"use strict";(function(e){s.d(n,"a",(function(){return l}));var t=s(0),r=s(302),i=s.n(r),o=s(469),a=s(288),c=s(38),p=s(23),f=s(303);class d extends t.Component{constructor(e){super(e),this.resetResizeAndRedraw=()=>{this.instanceWorker&&this.instanceWorker.postMessage({type:f.a.ResizingDone})},this.listeners={onWorkerInit:({data:e})=>{const{props:n}=this;e.type===f.a.WorkerInit&&n.onWorkerInit({canvasOffscreen:this.canvasOffscreen,instanceWorker:this.instanceWorker}),this.instanceWorker.removeEventListener("message",this.listeners.onWorkerInit)}},this.resetResizeAndRedrawDebounced=i()(this.resetResizeAndRedraw,300),c.a.canUseDOM&&this.props.baseEvents.attach({cb:({payload:e})=>{this.instanceWorker&&this.instanceWorker.postMessage({payload:e,type:f.a.Resizing}),this.resetResizeAndRedrawDebounced()},type:a.a.resize})}async componentDidMount(){if(d.defaults.browserSupportOffscreenCanvas){const{props:e}=this;e.menuMainHideAll(),this.instanceWorker=new e.Worker,this.canvasOffscreen=e.elCanvas.transferControlToOffscreen(),this.instanceWorker.postMessage({payload:{canvas:this.canvasOffscreen,padding:d.utils.convertRemToPixels(1)},type:f.a.Init},[this.canvasOffscreen]),e.onWorkerInstance&&await e.onWorkerInstance({canvasOffscreen:this.canvasOffscreen,instanceWorker:this.instanceWorker}),e.onWorkerInit&&this.instanceWorker.addEventListener("message",this.listeners.onWorkerInit)}}componentWillUnmount(){this.instanceWorker&&(this.instanceWorker.removeEventListener("message",this.listeners.onWorkerInit),this.instanceWorker.postMessage({type:f.a.Terminate}),this.instanceWorker.terminate())}render(){return d.defaults.browserSupportOffscreenCanvas?null:t.createElement(o.a,{id:"Common.Info.BrowserSupport.Canvas",defaultMessage:"OffscreenCanvas is not supported in your browser. Use latest Chrome/Chromium browser.",description:"Info window.OffscreenCanvas supported"})}}d.utils={convertRemToPixels:e=>e*parseFloat(getComputedStyle(document.documentElement).fontSize)},d.defaults={browserSupportOffscreenCanvas:Boolean(e.OffscreenCanvas)};const u=Object(a.b)({isWorker:!0})(d),l=Object(p.c)(({stores:{storeNavigationMenuMain:e}})=>({menuMainHideAll:e.hideAllEnable}),u)(u)}).call(this,s(22))},303:function(e,n,s){"use strict";var t;s.d(n,"a",(function(){return t})),function(e){e.Init="Init",e.Resizing="Resizing",e.ResizingDone="ResizingDone",e.Terminate="Terminate",e.WorkerInit="WorkerInit"}(t||(t={}))}}]);